---
marp: true
paginate: true
theme: kdx
style: |
  section.lead h1 {
    text-align: center;
    font-size: 3em;
  }
  section.lead p {
    text-align: center;
    font-size: 1em;
  }
  section.small-title1 h1 {
    font-size: 2em !important;
  }
  section.small-title2 h1 {
    font-size: 1.8em !important;
  }
  section.small-text li {
    font-size: 0.8em !important;
  }
---

<!--
_class: lead
_paginate: false
-->

# 最近のUnix系コマンドラインユーティリティ

Engineer Sync 2025年5月
クラウドサービス部
結城清太郎

---

# 今回紹介するコマンド一覧

- eza (ls, tree のモダンな代替)
- zoxide (賢いディレクトリ移動)
- bat (cat, less のモダンな代替)
- rg (ripgrep, grep の高速な代替)
- fd (find のシンプルで高速な代替)
- sd (sed の直感的な代替)
- btop (リソースモニター top の代替)
- duf (df のユーザーフレンドリーな代替)
- dust (du の視覚的な代替)
- delta (diff のビューア)
- tldr (man ページの簡潔な要約)

---

# eza

## 概要、公式リンクなど

- `eza` は、`ls` コマンドのモダンな代替です。色付け、アイコン表示、Git連携、拡張属性表示など、多くの追加機能を備えています。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/eza-community/eza](https://github.com/eza-community/eza)

---

# eza

## lsより良いところ

- **デフォルトでの色分け:** ファイルの種類やパーミッションに応じて出力が色付けされ、視認性が向上します。
- **アイコン表示:** Nerd Fonts を使用している場合、ファイルタイプに応じたアイコンが表示され、さらに見やすくなります。
- **Gitインテグレーション:** ファイルやディレクトリのGitステータス（変更、追加、無視など）を一覧に表示できます。
- **詳細なファイル情報:** パーミッション、所有者、ファイルサイズ、更新日時などが、より人間にとって読みやすい形式で表示されます。
- **拡張属性の表示:** ファイルの拡張属性を簡単に確認できます。

---

# eza

## treeより良いところ

- `eza --tree` で `tree` コマンドと同様のディレクトリツリー表示が可能です。
- `eza` の他の利点（色分け、アイコン、Gitステータスなど）をツリー表示でも享受できます。
- 多くの場合、`tree` よりも高速に動作します。
- 表示する階層の深さを指定するオプション (`--level`) もあります。

---

# zoxide

## 概要、公式リンクなど

- `zoxide` は、あなたのシェルでより賢い `cd` コマンドを提供します。頻繁にアクセスするディレクトリを記憶し、少ないキー入力で目的のディレクトリに移動できます。
- Rustで書かれており、高速に動作します。
- **公式リポジトリ:** [https://github.com/ajeetdsouza/zoxide](https://github.com/ajeetdsouza/zoxide)

---

# zoxide

## cdより良いところ

- **履歴ベースの移動:** `cd` コマンドのように完全なパスを入力したり、`Tab` キーで補完を繰り返す必要がありません。例えば、過去に `/home/user/work/project_alpha` にアクセスしたことがあれば、`z alpha` のような短いコマンドで移動できます。
- **あいまい検索:** パスの一部を入力するだけで、最も一致するディレクトリに移動できます。
- **インタラクティブ選択:** `fzf` と連携することで、候補を一覧表示し、選択して移動できます。これにより、タイプミスを防ぎ、記憶が曖昧な場合でも素早くアクセスできます。
- **学習アルゴリズム:** 使用頻度や最近アクセスした情報を元に、より関連性の高いディレクトリを優先的に提案します。

---

# bat

## 概要、公式リンクなど

- `bat` は、シンタックスハイライトとGit連携機能を備えた `cat` のクローンです。コードレビューやファイルの閲覧をより快適にします。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/sharkdp/bat](https://github.com/sharkdp/bat)

---

# bat

## catより良いところ

- **シンタックスハイライト:** 様々なプログラミング言語やマークアップ言語に対応したシンタックスハイライトを自動で行い、コードの可読性を大幅に向上させます。
- **Git連携:** ファイル内の変更箇所（`git diff` のような表示）をハイライトできます。
- **行番号表示:** デフォルトで行番号が表示されます。
- **ノンASCII文字の表示:** 非表示文字や制御文字を視覚的に表現できます。
- **ページャ連携:** 出力が画面に収まらない場合、自動的に `less` などのページャを起動します。

---

# bat

## lessより良いところ

- `bat` はファイルの**表示**に特化しており、デフォルトでシンタックスハイライトや行番号表示が有効です。`less` は汎用的なページャであり、これらの機能を利用するには追加の設定や他のコマンドとのパイプが必要になることがあります。
- コードや設定ファイルの内容をさっと確認したい場合に、`bat` はより手軽で高機能です。
- `bat` もページャとして `less` を内部的に利用できますが、その際の表示は `bat` のフォーマットが適用されます。

---

# rg (ripgrep)

## 概要、公式リンクなど

- `ripgrep` (`rg`) は、ファイルシステムを再帰的に検索し、正規表現に一致する行を見つけ出すコマンドラインツールです。非常に高速なのが特徴です。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/BurntSushi/ripgrep](https://github.com/BurntSushi/ripgrep)

---

# rg (ripgrep)

## grepより良いところ

- **圧倒的な速度:** `grep` や `ag` (The Silver Searcher) よりも高速に動作することが多く、特に多数のファイルの中から検索する場合にその差が顕著です。
- **デフォルトでの賢い挙動:**
  - `.gitignore` ファイルを自動的に尊重し、バージョン管理で無視されているファイルを検索対象から除外します。
  - 隠しファイルやバイナリファイルはデフォルトで検索しません。
- **Unicodeサポート:** 様々な言語のテキスト検索に対応しています。
- **豊富なオプション:** 検索対象のファイルタイプ指定、圧縮ファイルの検索、検索前後のコンテキスト表示など、多数の便利なオプションを備えています。
- **人間が読みやすい出力:** デフォルトで一致箇所がハイライトされ、ファイル名や行番号も分かりやすく表示されます。

---

# fd

## 概要、公式リンクなど

- `fd` は、`find` コマンドのシンプルで高速、かつユーザーフレンドリーな代替です。ファイル名、拡張子、正規表現などで直感的にファイルを検索できます。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/sharkdp/fd](https://github.com/sharkdp/fd)

---

# fd

## findより良いところ

- **直感的な構文:** `fd <パターン>` のようにシンプルに使えます。例えば、`fd '^(ba|qu)x'` や `fd --extension html` のように記述できます。
- **高速性:** 多くの場合、`find` よりも高速に動作します。特に、並列処理を活用することで大規模なディレクトリでも効率的に検索します。
- **デフォルトでの賢い挙動:**
  - デフォルトで `.gitignore` を尊重し、隠しファイルやディレクトリを無視します。
  - 正規表現がデフォルトで使用できます（`find` ではオプションが必要）。
- **カラー出力:** 検索結果がデフォルトで色付けされ、見やすくなっています。
- **コマンド長の短縮:** `-x` や `--exec` オプションで、見つかったファイルに対してコマンドを実行する際も、より簡潔に記述できます。

---

# sd

## 概要、公式リンクなど

- `sd` は、直感的でシンプルな構文を持つ `sed` の代替ツールです。文字列の検索と置換をより簡単に行うことができます。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/chmln/sd](https://github.com/chmln/sd)

---

# sd

## sedより良いところ

- **非常にシンプルな構文:** `sed` の `s/検索パターン/置換文字列/フラグ` という複雑な構文に対し、`sd '検索文字列' '置換文字列'` のように、より直感的で覚えやすい形式で記述できます。スラッシュのエスケープも不要です。
- **正規表現の扱いやすさ:** `sed` では拡張正規表現を使うのにオプションが必要だったり、キャプチャグループの参照が `\1` だったりしますが、`sd` はモダンな正規表現エンジンを使用し、キャプチャグループも `$1` や `${name}` のように直感的に扱えます。
- **プレビュー機能:** 実際にファイルを変更する前に、どのように置換が行われるかを確認できます（一部のフォークや関連ツール）。
- **デフォルトで人間が読みやすい:** `sed` のように `-n` と `p` を組み合わせる必要なく、置換後の内容が標準出力に表示されます（ファイル指定時）。
- **高速性:** Rustで記述されており、多くの場合 `sed` と同等かそれ以上の速度で動作します。

---

# btop

## 概要、公式リンクなど

- `btop` は、CPU、メモリ、ディスク、ネットワーク、プロセスなどのシステムリソースを監視するための、モダンでインタラクティブなリソースモニターです。
- C++で書かれています。
- **公式リポジトリ:** [https://github.com/aristocratos/btop](https://github.com/aristocratos/btop)

---

# btop

## topより良いところ

- **視覚的なインターフェース:** `top` に比べてはるかに洗練されたUIを持ち、グラフや色分けによって情報を直感的に把握できます。
- **マウスとキーボード操作:** マウスでの操作に対応しており、ソートやフィルタリング、プロセスの選択などが容易です。キーボードショートカットも充実しています。
- **詳細なプロセス情報:** 各プロセスについて、より詳細な情報（ディスクI/O、ツリー表示、スレッドなど）を簡単に確認できます。
- **カスタマイズ性:** 表示する項目やテーマ、更新間隔などを柔軟にカスタマイズできます。
- **ネットワークとディスクの監視:** ネットワークの使用状況やディスクI/Oをリアルタイムで監視できます。

---

# procs

## 概要、公式リンクなど

- `procs` は、`ps` コマンドのモダンな代替で、プロセス情報をより見やすく、検索しやすく表示することを目的としています。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/dalance/procs](https://github.com/dalance/procs)

---

# procs

## psより良いところ

- **人間が読みやすい出力:** デフォルトでCPU使用率、メモリ使用量、実行時間などが色分けされ、単位も読みやすい形式（例: MB、GB）で表示されます。
- **追加情報の表示:** TCP/UDPポート番号、読み書きバイト数、Dockerコンテナ名など、`ps` ではオプションを駆使しないと表示が難しい情報も簡単に見られます。
- **キーワード検索:** ユーザー名、実行コマンドなどでフィルタリングできます。
- **ツリー表示:** プロセスの親子関係をツリー形式 (`--tree` オプション) で表示でき、特定のプロセスから派生した子プロセス群を把握しやすくなります。
- **設定ファイルによるカスタマイズ:** 表示するカラムや色、ソート順などを設定ファイルでカスタマイズできます。
- **Docker/Pager/Watchモード:** Dockerコンテナ内のプロセスを表示したり、出力をページャに渡したり、定期的に情報を更新したりする便利なモードがあります。

---

# duf

## 概要、公式リンクなど

- `duf` (Disk Usage/Free utility) は、`df` コマンドの代替となる、よりユーザーフレンドリーなディスク使用状況表示ツールです。
- Goで書かれています。
- **公式リポジトリ:** [https://github.com/muesli/duf](https://github.com/muesli/duf)

---

# duf

## dfより良いところ

- **カラフルで見やすい出力:** `df` の素朴なテキスト出力と比較して、`duf` は色分けされた表形式で情報を表示するため、空き容量や使用率などが一目でわかります。
- **ユーザーフレンドリーな表示:** 容量は人間が読みやすい単位 (KB, MB, GB) で自動的に調整されます。
- **JSON出力:** `-json` オプションで出力をJSON形式にできるため、他のスクリプトやツールとの連携が容易です。
- **フィルタリングとソート:** 特定のファイルシステムタイプでフィルタリングしたり、特定の列でソートしたりするオプションがあります。
- **デバイス情報:** マウントポイントだけでなく、デバイス名やファイルシステムの種類なども分かりやすく表示されます。
- **イノード情報:** `-inodes` オプションでイノードの使用状況も表示できます。

---

# delta

## 概要、公式リンクなど

- `delta` は、`diff` の出力をより見やすく、理解しやすくするためのページャー/ビューアです。特に `git diff` や `git show` の出力をシンタックスハイライト付きで表示し、コードレビューを支援します。
- Rustで書かれています。
- **公式リポジトリ:** [https://github.com/dandavison/delta](https://github.com/dandavison/delta)

---

# delta

## diffより良いところ

- **シンタックスハイライト:** 変更されたコードの言語に応じたシンタックスハイライトを適用し、可読性を大幅に向上させます。
- **サイドバイサイド表示:** 変更前後のコードを並べて表示するモード (`--side-by-side`) があり、差分を比較しやすくなります。
- **変更箇所の強調:** 行内の具体的な変更箇所を文字単位でハイライトするため、細かい修正も見逃しにくくなります。
- **テーマとカスタマイズ:** 多数の組み込みテーマがあり、さらに細かく表示スタイルをカスタマイズできます。
- **コミットハッシュなどのスタイリング:** `git diff` のヘッダー情報も見やすく装飾されます。
- **`git blame` との連携:** 特定の行が誰によっていつ変更されたかといった情報を表示する際に、`delta` の見やすいフォーマットが適用されるよう設定できます。

---

# tldr

## 概要、公式リンクなど

- `tldr` (Too Long; Didn't Read) は、コマンドラインツールの使い方を簡潔な具体例で示す、コミュニティベースのチートシートです。`man` ページを読む時間がないときや、特定のユースケースをすぐに知りたい場合に非常に役立ちます。
- 多くのクライアント実装が存在します (Node.js, Python, Rust, Go, Bashなど)。
- **公式サイト/リポジトリ(ページデータ):** [https://tldr.sh/](https://tldr.sh/), [https://github.com/tldr-pages/tldr](https://github.com/tldr-pages/tldr)
- 例: `tldr tar`, `tldr git`

---

# tldr

## manより良いところ

- **簡潔さと実用性:** `man` ページは網羅的で詳細ですが、目的の情報を探すのに時間がかかることがあります。`tldr` は、各コマンドの一般的な使用例を2～8個程度に絞って提供するため、すぐに役立つ情報を見つけやすいです。
- **具体例中心:** オプションの説明だけでなく、具体的なコマンドラインの例が示されるため、コピー＆ペーストしてすぐに試すことができます。
- **多言語対応:** コミュニティによって多くの言語に翻訳されたページが提供されています。
- **簡単なアクセス:** `tldr <コマンド名>` で簡単に情報にアクセスできます。
- **オフライン利用:** クライアントによってはページデータをローカルにキャッシュし、オフラインでも利用可能です。

---

<!--
_class: lead
_paginate: false
-->

# ご清聴ありがとうございました。
